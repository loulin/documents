# 持续血糖监测(CGM)系统 - 产品需求分析
## Continuous Glucose Monitoring System - Product Requirements Analysis

**文档编号**: PRD-CGM-001
**版本**: v1.0
**日期**: 2025-10-10
**状态**: ⚠️ **待客户确认** - 请填写关键决策点

---

## 1. 产品概述

### 1.1 产品名称
**商标名称**: [待填写,如 "GlucoWatch Pro"]
**通用名称**: 持续血糖监测系统软件(CGM Software System)
**系统组成**:
- **患者端移动应用** (iOS/Android)
- **医师端Web系统** (Browser-Server架构)
- **后端云平台** (数据处理、存储、分析)
- **CGM传感器集成** (待明确:自研 vs 第三方)

### 1.2 系统架构图(初步)
```
┌─────────────────────────────────────────────────────────────┐
│                    CGM系统架构                               │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  ┌──────────────────┐                                      │
│  │  CGM传感器/硬件   │ ← 【待明确:自研 vs 第三方】         │
│  │  (皮下葡萄糖监测)  │                                      │
│  └─────────┬────────┘                                      │
│            │ 蓝牙/NFC                                        │
│            ↓                                                │
│  ┌─────────────────────────────────────────┐               │
│  │   患者端移动应用 (Patient Mobile App)    │               │
│  │   - 实时血糖显示                         │               │
│  │   - 警报通知(低血糖/高血糖)              │               │
│  │   - 历史数据查看                         │               │
│  │   - 食物/运动/用药日志                   │               │
│  │   - [待定] 治疗建议?                     │               │
│  └─────────────┬───────────────────────────┘               │
│                │ HTTPS/TLS                                  │
│                ↓                                            │
│  ┌─────────────────────────────────────────┐               │
│  │   云后端服务 (AWS/Azure/GCP)             │               │
│  │   - RESTful API                          │               │
│  │   - 数据存储(PostgreSQL)                 │               │
│  │   - 实时数据流(WebSocket)                │               │
│  │   - 数据分析引擎                         │               │
│  │   - 警报逻辑引擎                         │               │
│  │   - [待定] AI/ML预测算法?                │               │
│  └─────────────┬───────────────────────────┘               │
│                │ HTTPS                                      │
│                ↓                                            │
│  ┌─────────────────────────────────────────┐               │
│  │   医师端Web系统 (Physician Portal)       │               │
│  │   - 患者列表管理                         │               │
│  │   - 实时血糖监控(多患者仪表盘)           │               │
│  │   - AGP报告(Ambulatory Glucose Profile) │               │
│  │   - 警报事件查看                         │               │
│  │   - 患者沟通(安全消息)                   │               │
│  │   - 治疗方案调整                         │               │
│  └─────────────────────────────────────────┘               │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

---

## 2. 关键决策点(Critical Decision Points)

### ⚠️ 决策点1: CGM传感器策略

**选项A: 自研传感器硬件 + 软件系统**
- **优势**: 完全控制,硬件软件一体化优化
- **劣势**:
  - ❌ 开发周期长(硬件需要3-5年)
  - ❌ 监管复杂(硬件+软件双重认证)
  - ❌ 成本极高(硬件模具、生物兼容性测试、临床试验)
  - ❌ CE分类: **Class III** (植入式/侵入式传感器)
  - ❌ 需要大量临床试验数据(N>200,多中心)

**选项B: 仅开发软件,对接第三方成熟CGM传感器** ✅ **推荐**
- **优势**:
  - ✅ 快速上市(软件开发12-18个月)
  - ✅ 监管相对简单(软件分类,可能Class IIa/IIb)
  - ✅ 成本可控(无硬件研发成本)
  - ✅ 可对接多款CGM(Dexcom G7, Abbott FreeStyle Libre 3, Medtronic Guardian等)
- **劣势**: 依赖第三方硬件供应商

**您的选择**: [ ] A - 自研硬件  [ ] B - 软件对接第三方CGM  ← **请勾选**

---

### ⚠️ 决策点2: 软件功能范围(直接影响CE分类)

请勾选您计划实现的功能:

**功能组1: 数据显示与记录** (基础功能)
- [ ] 实时血糖值显示(每1-5分钟更新)
- [ ] 血糖趋势图(箭头方向+速率)
- [ ] 历史数据查看(日/周/月)
- [ ] AGP报告(Ambulatory Glucose Profile)
- [ ] 食物/运动/用药日志(手动记录)
- [ ] 数据导出(PDF/CSV)

**功能组2: 警报与通知** (中等风险)
- [ ] 低血糖警报(用户可设置阈值,如<70 mg/dL)
- [ ] 高血糖警报(用户可设置阈值,如>180 mg/dL)
- [ ] 快速下降/上升警报(趋势预警)
- [ ] 传感器失效警报
- [ ] 警报历史记录

**功能组3: 治疗辅助** (高风险,⚠️ 监管关注)
- [ ] **基于血糖数据的胰岛素剂量建议** ← ⚠️ 如勾选,可能→Class IIb/III
- [ ] **碳水化合物计算辅助** (帮助计算餐时胰岛素)
- [ ] **血糖预测**(预测未来30-60分钟血糖值) ← ⚠️ AI/ML?
- [ ] **低血糖风险预警**(预测性警报)

**功能组4: 医患协作**
- [ ] 医生-患者数据共享(实时)
- [ ] 医生远程查看患者血糖(多患者仪表盘)
- [ ] 安全消息传递
- [ ] 医生备注/治疗计划记录
- [ ] 诊疗报告生成(供医生参考)

**功能组5: 高级功能** (待定)
- [ ] 与胰岛素泵集成(读取注射数据)
- [ ] 闭环控制(自动调整胰岛素泵) ← ❌ **极高风险,Class III,不推荐**
- [ ] AI/ML血糖预测模型
- [ ] 与其他健康设备集成(Apple Health, Google Fit)

**您的功能选择**: 请在上方勾选 ← **重要:决定CE分类**

---

### ⚠️ 决策点3: 目标用户人群

**选项A: 1型糖尿病患者** (胰岛素依赖,高风险人群)
- 监管影响: ⚠️ **更严格审查** (生命依赖型治疗)
- 临床数据要求: **更高** (可能需要RCT)
- 用户特征: 年轻患者(儿童/青少年/成年),技术接受度高

**选项B: 2型糖尿病患者** (部分需要胰岛素)
- 监管影响: 相对温和
- 临床数据要求: 中等
- 用户特征: 中老年患者,技术接受度中等

**选项C: 两者都有**
- 监管影响: 按照最严格的(1型)标准审查
- 优势: 市场更大

**您的选择**: [ ] A - 仅1型  [ ] B - 仅2型  [ ] C - 两者 ← **请勾选**

---

### ⚠️ 决策点4: CE分类预判(基于您的选择)

根据MDR 2017/745 Rule 11,软件分类取决于**潜在危害严重度**:

| 场景 | 功能 | 潜在最严重后果 | 预判分类 |
|------|------|--------------|---------|
| **场景1** | 仅显示数据+基础警报,无治疗建议 | 警报失效→延误就医→严重高血糖 | **Class IIa** |
| **场景2** | 显示数据+警报+**胰岛素剂量建议** | 错误剂量建议→严重低血糖→昏迷/死亡 | **Class IIb或III** |
| **场景3** | 显示数据+警报+AI预测(仅信息,无治疗建议) | 预测错误→用户过度依赖→延误就医 | **Class IIa或IIb** |
| **场景4** | 闭环控制(自动调整胰岛素泵) | 控制算法错误→严重低血糖→死亡 | **Class III** ❌ 不推荐 |

**监管策略建议**:
✅ **推荐从Class IIa/IIb开始** (显示+警报+简单建议)
- 上市更快(18-24个月)
- 临床数据要求较低(可能无需临床试验)
- 后续可通过软件更新增加功能(需重新审查)

---

## 3. CE分类详细评估(Rule 11)

### 3.1 Rule 11决策树(针对CGM软件)

**Step 1: 软件是否提供信息用于做出诊断或治疗决策?**
- 如仅显示数据(不提供诊断/建议): → **可能Class I** (但CGM数据影响治疗决策,实际会更高)
- 如提供警报/建议: → **继续Step 2**

**Step 2: 软件错误可能导致的最严重后果?**

**情况A: 警报失效(低血糖未警报)**
- 事件序列:
  1. 患者血糖快速下降至50 mg/dL(严重低血糖)
  2. 应用因软件缺陷未触发警报
  3. 患者未察觉,继续运动
  4. 血糖进一步下降至30 mg/dL
  5. 患者意识丧失,昏迷
  6. 最坏情况:死亡或永久性脑损伤
- **严重度**: 危及生命或不可逆伤害
- **分类**: **Class IIb** (最低)

**情况B: 错误的胰岛素剂量建议**
- 事件序列:
  1. 算法错误,建议患者注射过量胰岛素(10单位vs实际需要5单位)
  2. 患者遵循建议注射
  3. 严重低血糖(血糖<40 mg/dL)
  4. 意识丧失,惊厥
  5. 最坏情况:死亡
- **严重度**: 危及生命
- **分类**: **Class III** (如果算法自动计算剂量) 或 **Class IIb** (如果仅提供参考建议,且有充分免责声明)

### 3.2 分类建议

**基于典型CGM软件功能(显示+警报+简单趋势分析)**:

| 功能范围 | CE分类 | Notified Body要求 | 临床数据要求 |
|---------|--------|------------------|-------------|
| 显示+警报 | **Class IIa** | 需要(常规审核) | 文献数据+小规模临床评估(N=50-150) |
| 显示+警报+胰岛素建议(参考性) | **Class IIb** | 需要(严格审核) | 需要临床试验(N=150-300) |
| 显示+警报+AI预测 | **Class IIb** | 需要(严格审核+AI审查) | 需要临床试验+算法验证 |

**您的产品预判分类**: [待填写,基于决策点2的选择]

---

## 4. 第三方CGM传感器对接策略

### 4.1 可对接的成熟CGM系统

| CGM品牌 | 型号 | CE认证 | FDA认证 | API可用性 | 推荐度 |
|--------|------|--------|---------|----------|--------|
| **Dexcom** | G7 | ✅ Class IIb | ✅ | ✅ 开放API | ⭐⭐⭐⭐⭐ **强烈推荐** |
| **Abbott** | FreeStyle Libre 3 | ✅ Class IIb | ✅ | ✅ LibreView API | ⭐⭐⭐⭐⭐ **强烈推荐** |
| **Medtronic** | Guardian 4 | ✅ | ✅ | ⚠️ 有限API | ⭐⭐⭐ |
| **Senseonics** | Eversense E3 | ✅ | ✅ | ⚠️ 合作伙伴计划 | ⭐⭐ |

### 4.2 API集成策略

**方案A: 直接API集成** (推荐给Dexcom/Abbott)
- 患者授权→您的应用通过OAuth访问CGM云端数据
- 实时性:1-5分钟延迟(取决于CGM上传频率)
- 监管影响:您的软件作为**独立医疗器械**,需独立CE认证

**方案B: 蓝牙直连CGM传感器**
- 您的应用直接通过蓝牙从传感器读取数据
- 实时性:更好(<1分钟)
- 监管影响:⚠️ **更复杂** - 可能被视为CGM系统的"附件",需与CGM厂商合作认证

**推荐**: **方案A** (API集成),监管独立性更强

### 4.3 监管文档要求(对接第三方CGM)

需在技术文档中包含:
- [ ] 第三方CGM的CE证书副本(证明CGM本身已合规)
- [ ] 数据接口规范(API文档)
- [ ] 数据准确性验证(您的软件正确读取和显示CGM数据)
- [ ] 互操作性测试报告
- [ ] SOUP清单(将第三方CGM API列为SOUP)

---

## 5. 关键风险识别(CGM特定)

### 5.1 CGM软件特有风险

| 危害ID | 危害 | 潜在后果 | 初步严重度 | 监管关注度 |
|-------|------|---------|-----------|-----------|
| **H-CGM-001** | 警报失效(低血糖未警报) | 意识丧失,昏迷,死亡 | **5 (灾难)** | ⚠️⚠️⚠️ **极高** |
| **H-CGM-002** | 虚假警报(频繁误报) | 警报疲劳→忽略真实警报 | **4 (危重)** | ⚠️⚠️⚠️ **极高** |
| **H-CGM-003** | 数据传输延迟(>15分钟) | 延误低血糖响应 | **3 (严重)** | ⚠️⚠️ **高** |
| **H-CGM-004** | 错误的趋势显示(箭头方向错误) | 用户错误决策(如运动时血糖实际在降) | **4 (危重)** | ⚠️⚠️⚠️ **极高** |
| **H-CGM-005** | 与CGM传感器连接失败 | 失去血糖监测能力 | **3 (严重)** | ⚠️⚠️ **高** |
| **H-CGM-006** | 电池耗尽(患者端应用) | 失去警报功能 | **3 (严重)** | ⚠️⚠️ **高** |
| **H-CGM-007** | 医生查看错误患者数据 | 错误治疗决策 | **4 (危重)** | ⚠️⚠️⚠️ **极高** |
| **H-CGM-008** | 错误的胰岛素剂量建议(如有此功能) | 严重低血糖,死亡 | **5 (灾难)** | ⚠️⚠️⚠️ **极高** |

### 5.2 风险控制策略(初步)

**H-CGM-001(警报失效)控制措施**:
1. **固有安全设计**:
   - 冗余警报机制(本地+云端双重判断)
   - 警报优先级队列(低血糖警报最高优先级)
   - 使用系统级通知(不依赖应用前台运行)
2. **验证**:
   - 警报可靠性测试(10,000次模拟场景,0次遗漏)
   - 极端条件测试(低电量、弱网络)
3. **使用信息**:
   - IFU警告:"本应用不替代CGM传感器自带警报,请保持CGM接收器开启"

**H-CGM-002(虚假警报)控制措施**:
1. **智能算法**:
   - 警报去重逻辑(同一事件15分钟内不重复)
   - 用户可调节警报阈值和灵敏度
2. **临床验证**:
   - 在临床研究中监测虚假警报率(目标:<10%)

---

## 6. 临床数据需求

### 6.1 CE Mark临床评估要求(CGM软件)

**Class IIa场景**(仅显示+警报):
- **文献数据**: 证明CGM技术的安全性和有效性(已有大量文献)
- **等效性分析**: 与市售类似软件(如Dexcom Clarity, LibreView)对比
- **自有数据**: 小规模观察性研究(N=50-150,3-6个月)
  - 主要终点:警报准确性,用户满意度,不良事件
  - 可能无需对照组

**Class IIb场景**(含胰岛素建议):
- **文献数据**: 不足以支持(需自有数据)
- **自有临床试验**: 前瞻性研究(N=150-300,6-12个月)
  - 设计:单臂或随机对照(vs 标准CGM应用)
  - 主要终点:HbA1c改善,低血糖事件减少
  - 次要终点:用户满意度,生活质量
  - **必需**: 严格的不良事件监测

### 6.2 临床研究成本估算

| 项目 | Class IIa | Class IIb |
|------|-----------|-----------|
| 样本量 | 50-150 | 150-300 |
| 研究时长 | 3-6个月 | 6-12个月 |
| 研究中心数 | 1-2个中心 | 多中心(3-5个) |
| 伦理审批费 | €5,000-10,000 | €10,000-20,000 |
| 受试者补偿 | €100-200/人 | €200-300/人 |
| 总成本估算 | **€20,000-50,000** | **€100,000-200,000** |

---

## 7. 竞品分析(现有CGM软件)

### 7.1 市售CGM软件系统

| 产品 | 厂商 | CE分类 | 主要功能 | 差异化机会 |
|------|------|--------|---------|-----------|
| **Dexcom Clarity** | Dexcom | Class IIb | 显示+警报+AGP报告+医患共享 | ✅ 已有大量用户,生态成熟 |
| **LibreView** | Abbott | Class IIb | 显示+报告+医患共享 | ✅ 与FreeStyle Libre深度集成 |
| **CareLink** | Medtronic | Class IIb | 显示+警报+胰岛素泵集成 | ✅ 闭环系统优势 |
| **Glooko** | Glooko | Class IIa | 多设备聚合(CGM+血糖仪+泵) | ✅ 设备兼容性强 |

### 7.2 您的差异化策略(待填写)

**可能的差异化方向**:
- [ ] **AI/ML预测**: 更准确的血糖趋势预测(30-60分钟)
- [ ] **多CGM支持**: 同时对接Dexcom/Abbott/Medtronic(Glooko模式)
- [ ] **更强医患协作**: 实时沟通,远程调整治疗方案
- [ ] **特殊人群优化**: 儿童/孕妇/老年人专用界面
- [ ] **本地化**: 针对中国/欧洲市场的本地化功能(如中餐碳水计算)
- [ ] **价格**: 更低的订阅费用
- [ ] 其他: [待填写]

**您的核心差异化**: [待填写] ← **重要:决定产品竞争力**

---

## 8. 下一步行动

### 8.1 立即需要确认的事项

请尽快确认以下决策点,以便推进后续工作:

1. [ ] **决策点1**: CGM传感器策略(推荐:对接第三方)
2. [ ] **决策点2**: 软件功能范围(勾选功能列表)
3. [ ] **决策点3**: 目标用户人群(1型/2型/两者)
4. [ ] **决策点4**: 核心差异化策略

### 8.2 确认后的工作计划

一旦确认上述决策,我将:
1. [ ] 更新产品定义文档(填入CGM具体信息)
2. [ ] 完成准确的CE分类评估(基于您选择的功能)
3. [ ] 更新风险管理文件(增加CGM特定风险)
4. [ ] 创建系统架构设计文档(患者端+医师端+后端)
5. [ ] 制定详细的临床评估计划
6. [ ] 更新项目时间线和预算(基于分类)

---

## 9. 监管时间线预估(基于分类)

| CE分类 | 开发时间 | 临床研究 | Notified Body审核 | 总时间 | 总成本 |
|--------|---------|---------|------------------|--------|--------|
| **Class IIa** | 12个月 | 6个月(N=150) | 3-6个月 | **18-24个月** | **€800,000-1,200,000** |
| **Class IIb** | 15个月 | 12个月(N=300) | 6-9个月 | **24-36个月** | **€1,500,000-2,500,000** |
| **Class III** | 18个月 | 24个月(N=500+) | 12-18个月 | **36-48个月** | **€3,000,000-5,000,000** |

**建议**: 从**Class IIa**开始,快速上市,后续迭代增加功能

---

## 附录A: CGM技术背景

### CGM工作原理
- 皮下葡萄糖传感器(测量间质液葡萄糖浓度)
- 数据更新频率:1-5分钟
- 佩戴时长:7-14天(取决于型号)
- 校准:较新CGM无需校准(工厂校准)

### CGM vs 传统血糖仪
| 特征 | CGM | 传统血糖仪(BGM) |
|------|-----|----------------|
| 测量频率 | 连续(288次/天) | 离散(3-6次/天) |
| 侵入性 | 中等(插入传感器) | 低(指尖采血) |
| 趋势信息 | ✅ 有 | ❌ 无 |
| 警报功能 | ✅ 有 | ❌ 无 |
| 成本 | 高(€50-100/月) | 低(€0.5-1/次) |

---

**请尽快填写本文档的决策点,以便我们继续推进项目!**
