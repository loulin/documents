# 风险管理计划
## Risk Management Plan (ISO 14971:2019)

**文档编号**: RMP-001
**版本**: v1.0
**日期**: 2025-10-10
**作者**: [填写]
**审核人**: [填写]
**批准人**: [填写]

---

## 1. 概述

### 1.1 目的
本风险管理计划(Risk Management Plan, RMP)建立了医疗器械软件整个生命周期的风险管理框架,符合:
- **ISO 14971:2019** - 医疗器械风险管理应用
- **IEC 62304:2006** - 医疗器械软件生命周期过程(第7章)
- **EU MDR 2017/745** - 欧盟医疗器械法规Annex I GSPR
- **FDA Guidance** - 软件即医疗器械(SaMD)风险管理

### 1.2 适用范围
**产品名称**: [填写产品名称]
**产品版本**: [如 v1.0]
**产品分类**: [如 CE Class IIa, FDA Class II]
**生命周期阶段**: [ ] 设计开发  [ ] 验证确认  [ ] 上市后监测

### 1.3 风险管理活动的责任
| 角色 | 姓名 | 职责 |
|------|------|------|
| **风险管理负责人** | [姓名] | 总体协调风险管理活动,批准风险管理报告 |
| **产品经理** | [姓名] | 定义预期用途,识别使用场景 |
| **软件工程师** | [姓名] | 识别技术风险,实施风险控制 |
| **质量保证** | [姓名] | 验证风险控制措施有效性 |
| **临床顾问** | [姓名] | 评估临床危害严重度 |
| **法规事务** | [姓名] | 确保符合监管要求 |

---

## 2. 风险管理流程

### 2.1 风险管理生命周期
```
┌─────────────────────────────────────────────────────────────┐
│                    风险管理流程 (ISO 14971)                   │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  ┌──────────────────────────────────────────────────────┐  │
│  │ 1. 风险分析 (Risk Analysis)                           │  │
│  │   ├── 预期用途和可合理预见的误用                       │  │
│  │   ├── 识别危害                                        │  │
│  │   └── 估计每个危害情况的风险                          │  │
│  └──────────────────────────────────────────────────────┘  │
│                          ↓                                  │
│  ┌──────────────────────────────────────────────────────┐  │
│  │ 2. 风险评价 (Risk Evaluation)                         │  │
│  │   └── 判断风险是否可接受                               │  │
│  └──────────────────────────────────────────────────────┘  │
│                          ↓                                  │
│  ┌──────────────────────────────────────────────────────┐  │
│  │ 3. 风险控制 (Risk Control)                            │  │
│  │   ├── 风险控制选项分析                                │  │
│  │   ├── 实施风险控制措施                                │  │
│  │   ├── 残余风险评价                                    │  │
│  │   └── 风险/效益分析                                   │  │
│  └──────────────────────────────────────────────────────┘  │
│                          ↓                                  │
│  ┌──────────────────────────────────────────────────────┐  │
│  │ 4. 整体残余风险评价                                   │  │
│  └──────────────────────────────────────────────────────┘  │
│                          ↓                                  │
│  ┌──────────────────────────────────────────────────────┐  │
│  │ 5. 风险管理报告                                       │  │
│  └──────────────────────────────────────────────────────┘  │
│                          ↓                                  │
│  ┌──────────────────────────────────────────────────────┐  │
│  │ 6. 上市后监测                                         │  │
│  └──────────────────────────────────────────────────────┘  │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

### 2.2 风险管理文档体系
| 文档 | 文档编号 | 说明 |
|------|----------|------|
| **风险管理计划** (本文档) | RMP-001 | 定义风险管理策略和流程 |
| **危害识别清单** | RISK-002 | 列出所有已识别的危害 |
| **风险分析工作表** (FMEA) | RISK-003 | 详细风险分析表格 |
| **风险控制措施清单** | RISK-004 | 风险缓解措施及验证 |
| **风险可追溯性矩阵** (RTM) | RISK-005 | 需求-风险-测试追溯 |
| **风险管理报告** | RMR-001 | 总结性风险管理报告 |
| **上市后风险监测记录** | RISK-006 | 上市后风险数据 |

---

## 3. 风险可接受性准则

### 3.1 风险矩阵
**严重度(Severity) vs 概率(Probability)**

|           | **可忽略(1)** | **轻微(2)** | **严重(3)** | **危重(4)** | **灾难(5)** |
|-----------|--------------|------------|------------|------------|------------|
| **频繁(5)** | 中风险(5)     | 高风险(10)  | 高风险(15)  | 不可接受(20) | 不可接受(25) |
| **可能(4)** | 低风险(4)     | 中风险(8)   | 高风险(12)  | 不可接受(16) | 不可接受(20) |
| **偶尔(3)** | 低风险(3)     | 中风险(6)   | 中风险(9)   | 高风险(12)   | 不可接受(15) |
| **罕见(2)** | 可接受(2)     | 低风险(4)   | 中风险(6)   | 中风险(8)    | 高风险(10)   |
| **极罕见(1)** | 可接受(1)   | 可接受(2)   | 低风险(3)   | 低风险(4)    | 中风险(5)    |

### 3.2 严重度定义(Severity)
| 等级 | 名称 | 定义 | 临床示例 |
|------|------|------|----------|
| **5** | 灾难(Catastrophic) | 死亡 | 错误治疗建议导致患者死亡 |
| **4** | 危重(Critical) | 永久性残疾或器官功能丧失 | 严重低血糖导致脑损伤 |
| **3** | 严重(Serious) | 需住院治疗或手术干预 | 糖尿病酮症酸中毒需住院 |
| **2** | 轻微(Minor) | 需门诊治疗,可逆影响 | 轻微高血糖需调整用药 |
| **1** | 可忽略(Negligible) | 无需医疗干预,不适或不便 | 轻微焦虑,用户体验差 |

### 3.3 概率定义(Probability)
| 等级 | 名称 | 定义 | 发生频率 |
|------|------|------|----------|
| **5** | 频繁(Frequent) | 几乎肯定发生 | > 10% (>1/10) |
| **4** | 可能(Probable) | 很可能发生 | 1% - 10% (1/100 - 1/10) |
| **3** | 偶尔(Occasional) | 可能发生 | 0.1% - 1% (1/1000 - 1/100) |
| **2** | 罕见(Remote) | 不太可能发生 | 0.01% - 0.1% (1/10,000 - 1/1,000) |
| **1** | 极罕见(Improbable) | 极不可能发生 | < 0.01% (<1/10,000) |

### 3.4 风险可接受性标准
| 风险评分 | 风险等级 | 可接受性 | 行动要求 |
|---------|---------|---------|---------|
| **1-3** | 低风险(Low) | ✅ **可接受** (Acceptable) | 记录,无需立即行动 |
| **4-9** | 中风险(Medium) | ⚠️ **条件可接受** (ALARP*) | 需实施风险控制,降低到合理可行的最低水平 |
| **10-15** | 高风险(High) | ⚠️ **需降低** (Must Reduce) | **必须**实施风险控制措施 |
| **≥16** | 不可接受(Unacceptable) | ❌ **不可接受** | **禁止**上市,必须重新设计 |

*ALARP = As Low As Reasonably Practicable (合理可行的最低水平)

---

## 4. 危害识别

### 4.1 危害来源(Hazard Sources)
按照ISO 14971 Annex C,考虑以下危害来源:

#### 4.1.1 能量相关危害
- [ ] 电磁能(如:手机辐射)
- [ ] 热能(如:设备过热)
- [ ] 其他: [说明]

#### 4.1.2 生物和化学相关危害
- [ ] 生物污染(如:共用设备)
- [ ] 其他: [说明]

#### 4.1.3 操作相关危害
- [ ] **不正确或不充分的操作说明** (重要!)
- [ ] **复杂或混淆的用户界面** (软件关键危害)
- [ ] **可合理预见的误用** (如:将建议误认为诊断)
- [ ] **不足的警告信息**
- [ ] 其他: [说明]

#### 4.1.4 功能失效/性能退化相关危害
- [ ] **软件缺陷/Bug** (如:算法错误)
- [ ] **数据不准确** (如:用户输入错误)
- [ ] **网络连接失败** (如:无法同步数据)
- [ ] **第三方组件失效** (SOUP风险)
- [ ] **云服务中断** (如:AWS宕机)
- [ ] 其他: [说明]

#### 4.1.5 信息相关危害
- [ ] **不正确或不完整的标签** (IFU说明书)
- [ ] **隐私泄露** (PHI/ePHI)
- [ ] **网络安全漏洞** (黑客攻击)
- [ ] 其他: [说明]

### 4.2 特定于软件的危害(SaMD-Specific)
基于FDA SaMD Guidance:

| 危害类别 | 具体危害 | 示例场景 |
|---------|---------|---------|
| **数据完整性** | 数据丢失/损坏 | 云同步失败导致历史数据丢失 |
| **数据完整性** | 数据传输错误 | 加密传输中数据包损坏 |
| **算法错误** | 逻辑缺陷 | 血糖趋势预测算法错误 |
| **算法错误** | 训练数据偏差(AI/ML) | 训练数据不包含老年患者 |
| **互操作性** | 与其他系统集成失败 | 无法读取血糖仪数据 |
| **网络安全** | 未授权访问 | 黑客窃取患者健康数据 |
| **网络安全** | 恶意软件 | 勒索软件加密数据 |
| **用户错误** | 误操作 | 用户错误输入血糖值(单位混淆) |
| **过度依赖** | 延误就医 | 患者过度依赖应用而不就医 |

---

## 5. 风险控制策略

### 5.1 风险控制优先级(ISO 14971)
按优先级顺序实施:

1. **固有安全设计** (Inherently Safe Design)
   - 示例: 设计时限制输入范围(血糖值0-600 mg/dL)
   - 示例: 使用经过验证的加密算法(AES-256)

2. **保护措施** (Protective Measures)
   - 示例: 数据验证(异常值自动标记)
   - 示例: 多因素认证(MFA)
   - 示例: 自动备份机制

3. **使用信息** (Information for Safety)
   - 示例: 在IFU中明确说明"本产品不提供诊断"
   - 示例: 警告标签:"严重症状请立即就医"
   - 示例: 在应用内显示免责声明

### 5.2 风险控制措施验证
每个风险控制措施必须:
- [ ] 明确定义(在设计规格中)
- [ ] 实施(在代码/设计中)
- [ ] 验证有效性(通过测试)
- [ ] 追溯到需求和风险(RTM)

---

## 6. 风险分析方法

### 6.1 使用的方法
- [x] **FMEA** (Failure Mode and Effects Analysis) - 故障模式与影响分析
- [ ] **FTA** (Fault Tree Analysis) - 故障树分析
- [ ] **HAZOP** (Hazard and Operability Study) - 危害与可操作性研究
- [ ] **威胁建模** (Threat Modeling) - 网络安全风险
- [ ] 其他: [说明]

### 6.2 FMEA工作表结构
详见 `RISK-003_风险分析工作表(FMEA).xlsx`,包含以下列:

| 列 | 说明 |
|----|------|
| 危害ID | 唯一标识符(如 H-001) |
| 危害描述 | 简短描述危害 |
| 危害情况 | 导致危害的事件序列 |
| 严重度(S) | 1-5评分 |
| 概率(P) | 1-5评分 |
| 初始风险评分 | S × P |
| 风险等级 | 低/中/高/不可接受 |
| 风险控制措施 | 缓解措施描述 |
| 责任人 | 实施人员 |
| 验证方法 | 如何验证有效性 |
| 残余严重度(S') | 控制后的严重度 |
| 残余概率(P') | 控制后的概率 |
| 残余风险评分 | S' × P' |
| 残余风险等级 | 低/中/高/不可接受 |
| 状态 | 开放/关闭 |

---

## 7. 上市后风险监测

### 7.1 上市后监测活动
- [ ] **用户投诉收集** (SOP-008)
- [ ] **不良事件报告** (MDR/Vigilance Reporting)
- [ ] **软件性能监测** (错误日志分析)
- [ ] **新危害识别** (PMCF - Post-Market Clinical Follow-up)
- [ ] **定期风险管理审查** (每年至少1次)

### 7.2 触发条件
以下情况需更新风险管理文件:
- [ ] 发现新危害
- [ ] 严重不良事件发生
- [ ] 软件重大更新(版本升级)
- [ ] 监管要求变更
- [ ] 上市后数据显示风险概率/严重度变化

---

## 8. 风险/效益分析

### 8.1 整体残余风险可接受性
当所有单个风险都已降低到可接受水平后,评估:
- [ ] **整体残余风险是否被临床效益所超越?**
- [ ] **是否有替代治疗方法风险更低?**
- [ ] **患者是否被充分告知风险?**

### 8.2 临床效益(参考产品定义文档)
**预期效益**:
1. [如: 改善血糖控制(HbA1c下降0.5-1%)]
2. [如: 减少急性并发症发生率]

**支持证据**:
- [ ] 临床文献
- [ ] 临床试验数据
- [ ] 上市后临床随访(PMCF)

---

## 9. 风险沟通

### 9.1 内部沟通
**频率**: [如:每月风险审查会]
**参与者**: 风险管理团队,产品经理,软件团队,QA
**沟通方式**: [如:风险审查会议纪要]

### 9.2 外部沟通
**向Notified Body披露**:
- [ ] 高风险和不可接受风险
- [ ] 风险控制措施
- [ ] 残余风险及风险/效益分析

**向用户披露**:
- [ ] 使用说明书(IFU)
- [ ] 应用内警告信息
- [ ] 知情同意书(如适用)

---

## 10. 附录

### 10.1 缩写表
| 缩写 | 全称 |
|------|------|
| FMEA | Failure Mode and Effects Analysis |
| FTA | Fault Tree Analysis |
| ALARP | As Low As Reasonably Practicable |
| RTM | Requirements Traceability Matrix |
| SOUP | Software of Unknown Provenance |
| PMCF | Post-Market Clinical Follow-up |

### 10.2 参考文献
1. ISO 14971:2019 - Medical devices — Application of risk management to medical devices
2. IEC 62304:2006 - Medical device software — Software life cycle processes
3. FDA Guidance: Content of Premarket Submissions for Management of Cybersecurity in Medical Devices (2023)
4. MDCG 2019-16: Guidance on Cybersecurity for medical devices

---

## 11. 审批记录

| 角色 | 姓名 | 签名 | 日期 |
|------|------|------|------|
| 风险管理负责人 | [姓名] | | |
| 质量保证审核 | [姓名] | | |
| 管理层批准 | [姓名] | | |

---

## 版本历史

| 版本 | 日期 | 作者 | 变更说明 |
|------|------|------|----------|
| v1.0 | 2025-10-10 | [姓名] | 初始版本 |

---

**下一步行动**:
1. [ ] 组织风险管理启动会(Kick-off)
2. [ ] 完成危害识别工作坊(基于预期用途)
3. [ ] 填写FMEA工作表
4. [ ] 定义风险控制措施
5. [ ] 将风险控制措施纳入设计规格
