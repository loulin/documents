# 糖尿病知识图谱设计文档

## 第一性原理分析

### 生物学基础原理
1. **葡萄糖代谢**: 细胞能量来源，血糖浓度必须维持稳定
2. **胰岛素作用**: 调节血糖的关键激素，促进葡萄糖利用
3. **器官功能**: 胰腺、肝脏、肌肉、脂肪组织的协同作用

### 疾病发生机制
- **根本原因**: 血糖调节系统失衡
- **直接原因**: 胰岛素分泌不足 OR 胰岛素抵抗
- **触发因素**: 遗传、环境、生活方式

## 知识图谱实体模型

### 核心实体类型

#### 1. 生理实体 (Physiological Entities)
```
- 器官: 胰腺、肝脏、肾脏、眼部、血管
- 细胞: β细胞、肌肉细胞、脂肪细胞
- 激素: 胰岛素、胰高血糖素、皮质醇
- 代谢物: 葡萄糖、糖化血红蛋白、酮体
```

#### 2. 病理实体 (Pathological Entities)
```
- 疾病类型: 1型糖尿病、2型糖尿病、妊娠糖尿病、MODY
- 并发症: 视网膜病变、肾病、神经病变、心血管病变
- 症状: 多饮、多尿、多食、体重下降
```

#### 3. 诊疗实体 (Clinical Entities)
```
- 检查指标: 空腹血糖、餐后血糖、HbA1c、OGTT
- 药物: 胰岛素、二甲双胍、磺脲类、GLP-1激动剂
- 治疗方法: 饮食控制、运动治疗、药物治疗、血糖监测
```

#### 4. 生活方式实体 (Lifestyle Entities)
```
- 饮食: 碳水化合物、蛋白质、脂肪、膳食纤维
- 运动: 有氧运动、阻抗训练、运动强度、运动时间
- 监测: 血糖仪、CGM、血压计、体重秤
```

### 关系类型设计

#### 1. 因果关系 (Causal Relations)
- `导致` (causes): 高血糖 → 导致 → 糖尿病并发症
- `触发` (triggers): 病毒感染 → 触发 → 1型糖尿病
- `加重` (worsens): 肥胖 → 加重 → 胰岛素抵抗

#### 2. 功能关系 (Functional Relations)
- `调节` (regulates): 胰岛素 → 调节 → 血糖水平
- `影响` (affects): 饮食 → 影响 → 血糖波动
- `改善` (improves): 运动 → 改善 → 胰岛素敏感性

#### 3. 时间关系 (Temporal Relations)
- `发生于` (occurs_in): 症状 → 发生于 → 疾病早期
- `持续` (persists): 慢性并发症 → 持续 → 终生
- `随时间恶化` (progresses): 糖尿病肾病 → 随时间恶化

#### 4. 空间关系 (Spatial Relations)
- `位于` (located_in): β细胞 → 位于 → 胰岛
- `分布于` (distributed_in): 糖尿病神经病变 → 分布于 → 四肢末梢

## 推理规则设计

### 基础推理规则

#### 1. 诊断推理
```
IF 空腹血糖 ≥ 7.0 mmol/L AND 随机血糖 ≥ 11.1 mmol/L
THEN 诊断为糖尿病

IF 年龄 < 30岁 AND 体重正常 AND 起病急骤
THEN 可能为1型糖尿病

IF 年龄 > 40岁 AND 超重 AND 家族史阳性
THEN 可能为2型糖尿病
```

#### 2. 治疗推理
```
IF HbA1c > 7% AND 2型糖尿病 AND 无禁忌症
THEN 考虑增加降糖药物

IF 妊娠期 AND 血糖控制不佳
THEN 推荐胰岛素治疗

IF 糖尿病酮症酸中毒
THEN 立即胰岛素治疗
```

#### 3. 并发症预测
```
IF 糖尿病病程 > 10年 AND HbA1c持续 > 8%
THEN 高风险发生微血管并发症

IF 糖尿病 AND 高血压 AND 血脂异常
THEN 高风险发生心血管疾病
```

## 问答系统架构

### 查询理解模块
1. **意图识别**: 诊断咨询、治疗建议、预后评估
2. **实体提取**: 从用户问题中提取相关医学实体
3. **关系识别**: 理解实体间的关系类型

### 知识检索模块
1. **图遍历**: 基于查询实体进行知识图谱遍历
2. **关联推理**: 利用推理规则发现隐含知识
3. **证据收集**: 收集支持答案的医学证据

### 答案生成模块
1. **答案构建**: 基于检索结果构建结构化答案
2. **可信度评估**: 评估答案的医学可信度
3. **个性化调整**: 根据用户特征调整答案内容

## 数据源设计

### 权威医学知识源
- 中华医学会糖尿病学分会指南
- ADA/EASD国际糖尿病指南
- 医学教科书和期刊文献
- 临床实践数据

### 知识更新机制
- 定期文献回顾
- 指南更新跟踪
- 专家知识验证
- 用户反馈优化