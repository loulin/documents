# CGMEHR CRF数据来源分类与医院适配性分析

## 1. 数据采集频次与来源分类体系

### 1.1 数据采集频次分类

```
数据采集频次分类：
├── 静态数据 (Static Data) - 入院时采集一次
├── 半静态数据 (Semi-Static Data) - 住院期间偶尔更新
├── 动态数据 (Dynamic Data) - 需要持续更新
└── 实时数据 (Real-Time Data) - 连续监测数据
```

### 1.2 数据来源优先级分类

```
数据来源优先级：
├── 核心必需 (Core Essential) - 必须通过HIS接口获取
├── 重要推荐 (Important Recommended) - 强烈建议HIS接口，允许手动补充
├── 可选增强 (Optional Enhanced) - HIS接口优先，手动录入可接受
└── 手动专用 (Manual Only) - 仅支持手动录入或专用设备
```

## 2. 患者基本信息表数据分类

### 2.1 Patient_Basic_Info 数据源分析

| 字段名 | 采集频次 | HIS依赖性 | 数据来源优先级 | 获取方式 | 更新频率 | 医院适配建议 |
|--------|---------|-----------|---------------|----------|---------|-------------|
| **患者基础标识类** |
| patient_id | 静态 | 核心必需 | HIS-ADT系统 | 接口自动获取 | 入院时1次 | 所有医院必须提供 |
| admission_id | 静态 | 核心必需 | HIS-ADT系统 | 接口自动获取 | 入院时1次 | 所有医院必须提供 |
| age | 静态 | 核心必需 | HIS-患者主索引 | 接口自动获取 | 入院时1次 | 基于身份证号自动计算 |
| gender | 静态 | 核心必需 | HIS-患者主索引 | 接口自动获取 | 入院时1次 | 所有医院必须提供 |
| height | 静态 | 重要推荐 | HIS-护理记录/手动 | 接口获取+手动补充 | 入院时1次 | HIS无则护士手动测量 |
| weight | 半静态 | 重要推荐 | HIS-护理记录/手动 | 接口获取+手动更新 | 每日或按需 | 每日称重，HIS同步或手动 |
| bmi | 静态 | 可选增强 | 系统自动计算 | 自动计算 | 体重变化时 | 基于身高体重自动计算 |
| **医学诊断类** |
| admission_datetime | 静态 | 核心必需 | HIS-ADT系统 | 接口自动获取 | 入院时1次 | 所有医院必须提供 |
| primary_diagnosis | 半静态 | 核心必需 | HIS-EMR系统 | 接口自动获取 | 诊断变更时 | ICD编码，所有医院必需 |
| diabetes_type | 半静态 | 核心必需 | HIS-诊断系统 | 接口获取+医师确认 | 诊断明确时 | 基于ICD编码自动识别 |
| diabetes_duration_years | 静态 | 可选增强 | HIS-病史/手动 | 接口获取+手动补充 | 入院时1次 | HIS无则医师问诊录入 |
| comorbidities_count | 半静态 | 重要推荐 | HIS-诊断系统 | 接口自动计算 | 诊断变更时 | 基于诊断列表自动统计 |
| **特殊状态标识类** |
| is_pregnant | 半静态 | 核心必需 | HIS-诊断/妇产科 | 接口自动识别 | 状态变化时 | 基于诊断编码自动判断 |
| gestational_age_weeks | 半静态 | 重要推荐 | HIS-妇产科/手动 | 接口获取+手动更新 | 孕期定期 | 妇产科HIS优先，产检记录 |
| has_pancreatic_surgery | 半静态 | 核心必需 | HIS-手术记录 | 接口自动识别 | 手术完成时 | 基于手术编码自动判断 |
| surgery_date | 静态 | 核心必需 | HIS-手术记录 | 接口自动获取 | 手术记录时 | 手术麻醉系统必须提供 |
| is_on_dialysis | 半静态 | 核心必需 | HIS-医嘱系统 | 接口自动识别 | 医嘱变更时 | 基于透析医嘱自动判断 |
| dialysis_type | 半静态 | 重要推荐 | HIS-医嘱/手动 | 接口获取+手动确认 | 方案变更时 | 透析中心HIS优先 |
| has_hematologic_disorder | 半静态 | 重要推荐 | HIS-诊断系统 | 接口自动识别 | 诊断变更时 | 基于血液科诊断编码 |
| hematologic_diagnosis | 静态 | 可选增强 | HIS-诊断/手动 | 接口获取+手动补充 | 诊断明确时 | 血液科详细诊断描述 |

## 3. IGRS核心评分数据分类

### 3.1 IGRS_Core_Assessment 数据源分析

| 字段名 | 采集频次 | HIS依赖性 | 数据来源优先级 | 获取方式 | 更新频率 | 医院适配建议 |
|--------|---------|-----------|---------------|----------|---------|-------------|
| assessment_id | 动态 | 手动专用 | IGRS系统生成 | 系统自动生成 | 每次评估 | IGRS系统内部标识 |
| patient_id | 静态 | 核心必需 | HIS关联 | 接口关联 | 关联时1次 | 与HIS患者主索引关联 |
| assessment_datetime | 动态 | 手动专用 | IGRS系统 | 系统自动记录 | 每次评估 | 评估触发时自动记录 |
| igrs_total_score | 动态 | 手动专用 | IGRS算法计算 | 自动计算 | 数据更新时 | 基于采集数据实时计算 |
| risk_level | 动态 | 手动专用 | IGRS算法映射 | 自动分级 | 分数变化时 | 基于总分自动分级 |
| cgm_dynamic_score | 动态 | 可选增强 | CGM设备+IGRS计算 | 设备接口+计算 | CGM更新时 | CGM厂商接口或手动导入 |
| ehr_baseline_score | 动态 | 重要推荐 | HIS-LIS+计算 | 接口获取+计算 | 检验结果更新时 | 实验室接口必需 |
| ehr_intervention_score | 动态 | 核心必需 | HIS-医嘱系统+计算 | 接口获取+计算 | 医嘱变更时 | 医嘱系统接口必需 |
| patient_factors_score | 半静态 | 重要推荐 | HIS多系统+计算 | 接口获取+计算 | 患者状态变化时 | 综合HIS数据计算 |
| clinical_stress_score | 动态 | 重要推荐 | HIS-诊断/医嘱+计算 | 接口获取+计算 | 临床状态变化时 | 感染、手术等状态识别 |
| override_model_active | 动态 | 重要推荐 | HIS状态识别+系统判断 | 接口识别+自动激活 | 状态变化时 | 基于HIS状态自动激活 |
| data_quality_confidence | 动态 | 可选增强 | CGM+HIS+算法评估 | 综合评估 | 数据更新时 | CGM和实验室数据质量评估 |
| assessor_id | 动态 | 重要推荐 | HIS-用户系统 | 接口获取当前用户 | 每次评估 | 当前登录用户自动记录 |

## 4. CGM动态数据分类

### 4.1 CGM_Basic_Data 数据源分析

| 字段名 | 采集频次 | HIS依赖性 | 数据来源优先级 | 获取方式 | 更新频率 | 医院适配建议 |
|--------|---------|-----------|---------------|----------|---------|-------------|
| **CGM设备数据类** |
| cgm_record_id | 实时 | 手动专用 | CGM系统生成 | 设备接口自动 | 每个读数 | CGM厂商接口必需 |
| patient_id | 静态 | 核心必需 | HIS关联 | 接口关联 | 设备绑定时 | 与HIS患者关联 |
| measurement_datetime | 实时 | 手动专用 | CGM设备 | 设备接口自动 | 5-15分钟 | CGM设备时间戳 |
| cgm_device_brand | 静态 | 手动专用 | CGM设备识别/手动 | 设备接口+手动选择 | 设备更换时 | 设备型号自动识别 |
| glucose_value | 实时 | 手动专用 | CGM设备 | 设备接口自动 | 5-15分钟 | CGM核心数据 |
| glucose_trend | 实时 | 手动专用 | CGM设备算法 | 设备接口自动 | 数据更新时 | CGM内置趋势算法 |
| **校准质控数据类** |
| is_calibrated | 动态 | 可选增强 | CGM设备/护理记录 | 设备接口+手动记录 | 校准时 | 校准事件记录 |
| calibration_bgm_value | 动态 | 可选增强 | 护理记录/手动 | 手动录入 | 校准时 | 护士手动测量录入 |
| data_quality_flag | 实时 | 手动专用 | CGM设备+算法评估 | 设备状态+系统评估 | 数据更新时 | 设备状态+质量算法 |
| **干扰检测数据类** |
| interference_detected | 动态 | 重要推荐 | HIS-用药+算法检测 | 接口检测+算法判断 | 用药变化时 | 基于用药记录自动检测 |
| interference_type | 动态 | 重要推荐 | HIS-用药分析 | 接口获取+算法识别 | 检测到干扰时 | 药物干扰类型识别 |

### 4.2 CGM_Derived_Metrics 数据源分析

| 字段名 | 采集频次 | HIS依赖性 | 数据来源优先级 | 获取方式 | 更新频率 | 医院适配建议 |
|--------|---------|-----------|---------------|----------|---------|-------------|
| **计算周期控制类** |
| calculation_period | 动态 | 手动专用 | IGRS系统配置 | 系统设置 | 计算周期设定时 | 系统配置参数 |
| period_start_time | 动态 | 手动专用 | IGRS系统计算 | 自动计算 | 计算触发时 | 基于当前时间计算 |
| period_end_time | 动态 | 手动专用 | IGRS系统计算 | 自动计算 | 计算触发时 | 基于当前时间计算 |
| **数据质量指标类** |
| data_completeness_pct | 动态 | 手动专用 | CGM数据统计 | 算法自动计算 | 计算周期内 | CGM数据完整性统计 |
| **核心CGM指标类（全部为算法自动计算）** |
| tir_70_180 | 动态 | 手动专用 | CGM数据+算法 | 算法自动计算 | 计算周期内 | 国际标准TIR计算 |
| tir_63_140 | 动态 | 手动专用 | CGM数据+算法 | 算法自动计算 | 计算周期内 | 妊娠专用TIR计算 |
| tar_level1_pct | 动态 | 手动专用 | CGM数据+算法 | 算法自动计算 | 计算周期内 | 1级高血糖时间计算 |
| tar_level2_pct | 动态 | 手动专用 | CGM数据+算法 | 算法自动计算 | 计算周期内 | 2级高血糖时间计算 |
| tbr_level1_pct | 动态 | 手动专用 | CGM数据+算法 | 算法自动计算 | 计算周期内 | 1级低血糖时间计算 |
| tbr_level2_pct | 动态 | 手动专用 | CGM数据+算法 | 算法自动计算 | 计算周期内 | 2级低血糖时间计算 |
| cv_percent | 动态 | 手动专用 | CGM数据+算法 | 算法自动计算 | 计算周期内 | 血糖变异系数计算 |
| mage_mmol | 动态 | 手动专用 | CGM数据+算法 | 算法自动计算 | 计算周期内 | MAGE算法计算 |
| gri_score | 动态 | 手动专用 | CGM数据+算法 | 算法自动计算 | 计算周期内 | 血糖风险指数计算 |
| gmi_percent | 动态 | 手动专用 | CGM数据+算法 | 算法自动计算 | 计算周期内 | 血糖管理指标计算 |
| **统计指标类** |
| mean_glucose | 动态 | 手动专用 | CGM数据+算法 | 算法自动计算 | 计算周期内 | 平均值统计计算 |
| glucose_std | 动态 | 手动专用 | CGM数据+算法 | 算法自动计算 | 计算周期内 | 标准差统计计算 |
| severe_hypo_events | 动态 | 手动专用 | CGM数据+算法 | 算法自动计算 | 计算周期内 | 严重低血糖事件计数 |
| hypo_prediction_alerts | 动态 | 手动专用 | CGM设备+算法 | 设备警报+算法计数 | 预警触发时 | 低血糖预警统计 |
| glucose_range_mmol | 动态 | 手动专用 | CGM数据+算法 | 算法自动计算 | 计算周期内 | 血糖极差计算 |

## 5. 实验室数据分类

### 5.1 Lab_Test_Results 数据源分析

| 字段名 | 采集频次 | HIS依赖性 | 数据来源优先级 | 获取方式 | 更新频率 | 医院适配建议 |
|--------|---------|-----------|---------------|----------|---------|-------------|
| **检验标识类** |
| lab_record_id | 动态 | 核心必需 | HIS-LIS系统 | 接口自动获取 | 检验完成时 | LIS系统必须提供 |
| test_datetime | 动态 | 核心必需 | HIS-LIS系统 | 接口自动获取 | 标本采集时 | LIS系统时间戳 |
| test_category | 动态 | 重要推荐 | HIS-LIS分类/算法 | 接口获取+自动分类 | 检验项目确定时 | 基于检验项目编码分类 |
| **血糖代谢指标类（核心必需）** |
| hba1c_percent | 半静态 | 核心必需 | HIS-LIS系统 | 接口自动获取 | 检验完成时 | 所有医院LIS必须提供 |
| fasting_glucose | 动态 | 核心必需 | HIS-LIS系统 | 接口自动获取 | 检验完成时 | 所有医院LIS必须提供 |
| random_glucose | 动态 | 核心必需 | HIS-LIS系统 | 接口自动获取 | 检验完成时 | 所有医院LIS必须提供 |
| c_peptide | 半静态 | 重要推荐 | HIS-LIS系统 | 接口自动获取 | 检验完成时 | 三级医院LIS通常有 |
| insulin_level | 半静态 | 重要推荐 | HIS-LIS系统 | 接口自动获取 | 检验完成时 | 三级医院LIS通常有 |
| ketone_level | 动态 | 重要推荐 | HIS-LIS系统/POCT | 接口获取+手动 | 检验完成时 | LIS或床旁检测 |
| urine_ketone | 动态 | 重要推荐 | HIS-LIS系统/手动 | 接口获取+手动 | 检验完成时 | 尿常规或试纸检测 |
| **肾功能指标类（核心必需）** |
| serum_creatinine | 动态 | 核心必需 | HIS-LIS系统 | 接口自动获取 | 检验完成时 | 所有医院LIS必须提供 |
| egfr_value | 动态 | 重要推荐 | HIS-LIS系统/自动计算 | 接口获取+自动计算 | 肌酐更新时 | LIS提供或基于肌酐计算 |
| bun_level | 动态 | 重要推荐 | HIS-LIS系统 | 接口自动获取 | 检验完成时 | 大部分医院LIS有 |
| **肝功能指标类（重要推荐）** |
| alt_level | 动态 | 重要推荐 | HIS-LIS系统 | 接口自动获取 | 检验完成时 | 大部分医院LIS有 |
| ast_level | 动态 | 重要推荐 | HIS-LIS系统 | 接口自动获取 | 检验完成时 | 大部分医院LIS有 |
| total_bilirubin | 动态 | 重要推荐 | HIS-LIS系统 | 接口自动获取 | 检验完成时 | 大部分医院LIS有 |
| **炎症指标类（重要推荐）** |
| crp_level | 动态 | 重要推荐 | HIS-LIS系统 | 接口自动获取 | 检验完成时 | 大部分医院LIS有 |
| wbc_count | 动态 | 核心必需 | HIS-LIS系统 | 接口自动获取 | 检验完成时 | 所有医院LIS必须提供 |
| **血常规指标类（核心必需）** |
| hemoglobin | 动态 | 核心必需 | HIS-LIS系统 | 接口自动获取 | 检验完成时 | 所有医院LIS必须提供 |
| hematocrit | 动态 | 核心必需 | HIS-LIS系统 | 接口自动获取 | 检验完成时 | 所有医院LIS必须提供 |
| platelet_count | 动态 | 核心必需 | HIS-LIS系统 | 接口自动获取 | 检验完成时 | 所有医院LIS必须提供 |
| **电解质类（重要推荐）** |
| sodium_level | 动态 | 重要推荐 | HIS-LIS系统 | 接口自动获取 | 检验完成时 | 大部分医院LIS有 |
| potassium_level | 动态 | 重要推荐 | HIS-LIS系统 | 接口自动获取 | 检验完成时 | 大部分医院LIS有 |
| chloride_level | 动态 | 可选增强 | HIS-LIS系统 | 接口自动获取 | 检验完成时 | 部分医院LIS有 |
| bicarbonate_level | 动态 | 重要推荐 | HIS-LIS系统/血气 | 接口自动获取 | 检验完成时 | LIS或血气分析 |
| **血气分析类（可选增强）** |
| arterial_ph | 动态 | 可选增强 | HIS-LIS系统/POCT | 接口获取+手动 | 血气检测时 | 重症监护常有 |
| pco2_level | 动态 | 可选增强 | HIS-LIS系统/POCT | 接口获取+手动 | 血气检测时 | 重症监护常有 |
| po2_level | 动态 | 可选增强 | HIS-LIS系统/POCT | 接口获取+手动 | 血气检测时 | 重症监护常有 |
| **变化率指标类（算法计算）** |
| change_rate_24h | 动态 | 手动专用 | IGRS算法计算 | 自动计算 | 有新检验结果时 | 基于历史数据计算 |
| change_rate_7d | 动态 | 手动专用 | IGRS算法计算 | 自动计算 | 有新检验结果时 | 基于历史数据计算 |

## 6. 药物治疗数据分类

### 6.1 Medication_Records 数据源分析

| 字段名 | 采集频次 | HIS依赖性 | 数据来源优先级 | 获取方式 | 更新频率 | 医院适配建议 |
|--------|---------|-----------|---------------|----------|---------|-------------|
| **用药标识类** |
| medication_id | 动态 | 核心必需 | HIS-医嘱系统 | 接口自动获取 | 医嘱执行时 | 医嘱系统必须提供 |
| medication_datetime | 动态 | 核心必需 | HIS-医嘱执行 | 接口自动获取 | 给药时 | 护理执行记录时间 |
| medication_category | 动态 | 重要推荐 | HIS-药品字典/算法 | 接口获取+自动分类 | 医嘱开立时 | 基于药品编码自动分类 |
| **胰岛素类（核心必需）** |
| insulin_type | 动态 | 重要推荐 | HIS-药品字典/算法 | 接口获取+自动识别 | 医嘱开立时 | 基于胰岛素药品编码识别 |
| insulin_brand | 动态 | 可选增强 | HIS-药品字典 | 接口自动获取 | 医嘱开立时 | 药品主数据品牌信息 |
| insulin_dose_units | 动态 | 核心必需 | HIS-医嘱系统 | 接口自动获取 | 医嘱执行时 | 医嘱剂量必须准确 |
| administration_route | 动态 | 核心必需 | HIS-医嘱系统 | 接口自动获取 | 医嘱开立时 | 给药途径编码 |
| is_iv_insulin | 动态 | 核心必需 | HIS-医嘱系统/算法 | 接口识别+算法判断 | 医嘱开立时 | 基于给药途径自动判断 |
| iv_insulin_rate | 动态 | 核心必需 | HIS-医嘱系统 | 接口自动获取 | 泵速调整时 | 输液泵或医嘱系统 |
| **激素类（重要推荐）** |
| steroid_equivalent_dose | 动态 | 重要推荐 | HIS-药品+算法计算 | 接口获取+算法转换 | 激素医嘱时 | 基于激素药品自动换算 |
| steroid_type | 动态 | 重要推荐 | HIS-药品字典 | 接口自动获取 | 医嘱开立时 | 药品主数据名称 |
| **口服药类（可选增强）** |
| oral_hypoglycemic_agent | 动态 | 可选增强 | HIS-药品字典 | 接口自动获取 | 医嘱开立时 | 口服降糖药名称 |
| other_medication_name | 动态 | 可选增强 | HIS-药品字典 | 接口自动获取 | 医嘱开立时 | 其他影响血糖药物 |
| **用药分析类（算法计算）** |
| additional_insulin_times | 动态 | 重要推荐 | HIS-医嘱执行+算法 | 接口获取+算法统计 | 3小时滚动计算 | 基于执行记录统计 |
| medication_interaction_risk | 动态 | 可选增强 | 药物知识库+算法 | 算法自动评估 | 用药组合变化时 | 药物相互作用数据库 |
| dose_adjustment_reason | 动态 | 可选增强 | HIS-医嘱备注/手动 | 接口获取+手动补充 | 剂量调整时 | 医师医嘱备注或手动 |

## 7. 营养医嘱数据分类

### 7.1 Nutrition_Orders 数据源分析

| 字段名 | 采集频次 | HIS依赖性 | 数据来源优先级 | 获取方式 | 更新频率 | 医院适配建议 |
|--------|---------|-----------|---------------|----------|---------|-------------|
| **医嘱标识类** |
| order_id | 动态 | 核心必需 | HIS-医嘱系统 | 接口自动获取 | 医嘱开立时 | 医嘱系统必须提供 |
| order_datetime | 动态 | 核心必需 | HIS-医嘱系统 | 接口自动获取 | 医嘱开立时 | 医嘱开立时间 |
| order_type | 动态 | 核心必需 | HIS-医嘱分类/算法 | 接口获取+算法识别 | 医嘱开立时 | 基于医嘱编码自动分类 |
| **禁食状态类（核心必需）** |
| is_npo | 动态 | 核心必需 | HIS-医嘱系统/算法 | 接口识别+算法判断 | 医嘱变更时 | 基于NPO医嘱自动识别 |
| npo_duration_hours | 动态 | 重要推荐 | HIS-医嘱时间+算法 | 接口获取+算法计算 | NPO状态变化时 | 基于医嘱时间自动计算 |
| **TPN营养类（重要推荐）** |
| is_on_tpn | 动态 | 核心必需 | HIS-医嘱系统/算法 | 接口识别+算法判断 | 医嘱变更时 | 基于TPN医嘱自动识别 |
| tpn_glucose_rate | 动态 | 重要推荐 | HIS-TPN配方+算法 | 接口获取+算法计算 | TPN配方变化时 | 基于TPN配方自动计算 |
| tpn_total_volume | 动态 | 重要推荐 | HIS-TPN医嘱 | 接口自动获取 | TPN医嘱变更时 | TPN袋总容量 |
| tpn_infusion_rate | 动态 | 重要推荐 | HIS-输液泵/医嘱 | 接口自动获取 | 泵速调整时 | 输液泵或医嘱系统 |
| **肠内营养类（可选增强）** |
| enteral_nutrition_type | 动态 | 可选增强 | HIS-营养医嘱 | 接口自动获取 | 医嘱开立时 | 肠内营养制剂类型 |
| enteral_rate | 动态 | 可选增强 | HIS-输液泵/医嘱 | 接口自动获取 | 泵速调整时 | 肠内营养输注速率 |
| **饮食管理类（可选增强）** |
| diet_carb_content | 半静态 | 可选增强 | HIS-营养科/手动 | 接口获取+手动补充 | 饮食方案变更时 | 营养科配餐系统或手动 |
| meal_frequency | 半静态 | 可选增强 | HIS-饮食医嘱/手动 | 接口获取+手动设置 | 饮食医嘱变更时 | 饮食医嘱或护理记录 |
| **营养中断类（动态监测）** |
| nutrition_interruption | 动态 | 重要推荐 | HIS-输液泵/系统监测 | 接口监测+系统检测 | 中断发生时 | 输液泵报警或人工记录 |
| interruption_reason | 动态 | 可选增强 | 手动录入 | 手动录入 | 中断时 | 护士手动记录原因 |
| interruption_duration | 动态 | 重要推荐 | 系统时间计算 | 算法自动计算 | 中断恢复时 | 基于中断和恢复时间计算 |

## 8. 医院适配性分级建议

### 8.1 医院信息化水平分级

```
医院信息化分级：
├── Level 1 (基础级) - 县级医院、部分二级医院
│   ├── HIS核心功能：ADT、收费、药房
│   ├── 可获取：患者基本信息、诊断、基本用药
│   └── IGRS适配：手动录入为主，关键数据接口获取
├── Level 2 (标准级) - 大部分二级医院、部分三级医院
│   ├── HIS完整功能：+ LIS、医嘱、护理
│   ├── 可获取：实验室数据、详细医嘱、护理记录
│   └── IGRS适配：大部分数据接口获取，少量手动补充
├── Level 3 (高级) - 三级医院、教学医院
│   ├── HIS全面功能：+ 输液泵、监护、专科系统
│   ├── 可获取：实时监测数据、专科诊断、详细配置
│   └── IGRS适配：绝大部分数据自动获取，极少手动干预
└── Level 4 (智能级) - 顶级医院、智慧医院试点
    ├── HIS智能功能：+ IoT设备、AI辅助、互联互通
    ├── 可获取：全面数据、实时监测、智能分析
    └── IGRS适配：完全自动化，智能质控和优化
```

### 8.2 不同级别医院的IGRS实施策略

#### **Level 1医院（基础级）适配策略**
```
核心必需数据（必须有接口）：
- 患者基本信息 (ADT系统)
- 主要诊断 (诊断系统)  
- 基本血糖、肌酐、血常规 (基础LIS)
- 胰岛素医嘱 (医嘱系统)

重要推荐数据（接口+手动补充）：
- HbA1c等生化指标
- 详细用药信息
- 体重等生命体征

可选增强数据（主要靠手动）：
- CGM设备数据导入
- 详细并发症信息
- 营养支持详情

实施要点：
- 简化评分模型，重点关注核心风险因素
- 提供便捷的手动录入界面
- 建立最小数据集，确保基本功能可用
```

#### **Level 2医院（标准级）适配策略**
```
接口获取数据（80%+）：
- 完整实验室数据
- 详细医嘱信息
- 护理记录数据
- 基本监测参数

手动补充数据（20%-）：
- CGM设备对接
- 特殊设备参数
- 复杂营养配方

实施要点：
- 标准IGRS评分模型
- 自动化程度较高
- 重点优化数据质量和完整性
```

#### **Level 3医院（高级）适配策略**
```
全自动获取数据（90%+）：
- 全面HIS数据对接
- 实时设备监测数据
- 专科系统集成

极少手动干预（10%-）：
- 特殊情况标注
- 质量问题确认

实施要点：
- 完整IGRS 3.0模型
- 实时评分和预警
- 高级分析和趋势预测
```

#### **Level 4医院（智能级）适配策略**
```
智能化全覆盖（95%+）：
- 全面设备互联互通
- AI辅助数据质控
- 智能预测和优化

人工智能增强：
- 自动异常检测
- 智能模型优化
- 个性化风险建模

实施要点：
- IGRS 3.0+ 增强模型
- 机器学习持续优化
- 多中心数据共享和学习
```

## 9. 数据获取优先级实施建议

### 9.1 分阶段实施策略

#### **第一阶段：核心数据对接（上线必需）**
```
必须通过HIS接口获取：
1. 患者基本信息 (patient_id, age, gender, diagnosis)
2. 核心实验室数据 (血糖, HbA1c, 肌酐, 血常规)
3. 基本医嘱信息 (胰岛素, 主要用药)
4. 入院诊断和主要状态标识

成功标准：
- IGRS基本评分功能可用
- 核心风险因素可识别  
- 基本预警功能正常
```

#### **第二阶段：增强数据集成（功能完善）**
```
建议通过HIS接口获取：
1. 完整实验室数据 (肝功能, 炎症指标, 电解质)
2. 详细医嘱和执行记录
3. 护理记录和生命体征
4. 营养支持和特殊治疗

成功标准：
- IGRS评分准确性提升
- 特殊人群模型激活
- 数据质量评估功能正常
```

#### **第三阶段：设备数据整合（智能化升级）**
```
设备接口对接：
1. CGM设备数据实时获取
2. 输液泵和监护设备集成
3. 专科设备数据同步
4. IoT设备状态监控

成功标准：
- 实时风险评估和预警
- 设备异常自动识别
- 智能化程度显著提升
```

### 9.2 数据质量保证策略

#### **数据完整性检查**
```python
def validate_data_completeness(hospital_level, patient_data):
    """
    根据医院级别验证数据完整性
    """
    required_fields = {
        'level_1': ['patient_id', 'age', 'diabetes_type', 'glucose', 'creatinine'],
        'level_2': ['patient_id', 'age', 'diabetes_type', 'glucose', 'hba1c', 'creatinine', 'medications'],
        'level_3': ['patient_id', 'age', 'diabetes_type', 'glucose', 'hba1c', 'creatinine', 'medications', 'lab_full'],
        'level_4': ['all_fields']
    }
    
    missing_fields = []
    for field in required_fields[hospital_level]:
        if field not in patient_data or patient_data[field] is None:
            missing_fields.append(field)
    
    return {
        'completeness_score': (len(required_fields[hospital_level]) - len(missing_fields)) / len(required_fields[hospital_level]) * 100,
        'missing_fields': missing_fields,
        'data_quality_level': 'high' if len(missing_fields) == 0 else 'medium' if len(missing_fields) <= 2 else 'low'
    }
```

这个分类体系为不同信息化水平的医院提供了灵活的IGRS实施方案，确保系统的广泛适用性和可扩展性。